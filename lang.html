<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./lang.css" />
  </head>
  <body>
    <h1 id="title">안녕하세요!</h1>
    <p id="description">눌러주세요</p>
    <div id="test">테스트</div>

    <a href="./lang2.html">번역2</a>

    <div class="selectedLanguage">
      <button onclick="language()"><img src="./img/globalIcon.png" /></button>
      <div id="languageMenu" style="display: none">
        <button onclick="changeLanguageBtn()" id="ko">한국어</button>
        <button onclick="changeLanguageBtn()" id="en">English</button>
        <button onclick="changeLanguageBtn()" id="es">Spanish</button>
      </div>
    </div>

    <button class="testBtn">보기</button>

    <script>
      window.onload = function () {
        changeLanguage(sessionStorage.getItem("language"));
        let currentLanguage = sessionStorage.getItem("language");
        let languageSelect = document.getElementById("languageSelect");
      };

      function changeLanguage(selectedLanguage) {
        if (!selectedLanguage) {
          selectedLanguage = "ko";
          languageSelect.value = "ko";
        }

        var script = document.createElement("script");
        script.src = `./lang/${selectedLanguage}.js`;
        script.onload = function () {
          setTranslatedText(selectedLanguage);
        };

        var head = document.head || document.getElementsByTagName("head")[0];
        head.appendChild(script);
      }
    </script>

    <script src="./app.js"></script>
  </body>
</html>
