<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./lang.css" />
  </head>
  <body>
    <h1 id="name">이름</h1>
    <p id="login">로그인</p>
    <div id="sign">회원가입</div>

    <a href="./lang.html">HOME</a>

    <!-- Language selection -->

    <div class="selectedLanguage">
      <button onclick="language()"><img src="./img/globalIcon.png" /></button>
      <div id="languageMenu" style="display: none">
        <button onclick="changeLanguageBtn()" id="ko">한국어</button>
        <button onclick="changeLanguageBtn()" id="en">English</button>
        <button onclick="changeLanguageBtn()" id="es">Spanish</button>
      </div>
    </div>

    <script>
      window.onload = function () {
        changeLanguage(sessionStorage.getItem("language"));
        let currentLanguage = sessionStorage.getItem("language");
        let languageSelect = document.getElementById("languageSelect");
      };

      function changeLanguageBtn() {
        var languageSelect = document.getElementById("languageSelect");
        var selectedLanguage = languageSelect.value;
        sessionStorage.setItem("language", selectedLanguage);
        changeLanguage(selectedLanguage);
      }

      function changeLanguage(selectedLanguage) {
        var script = document.createElement("script");
        script.src = `./lang/${selectedLanguage}.js`;
        script.onload = function () {
          setTranslatedTextLogin(selectedLanguage);
        };

        var head = document.head || document.getElementsByTagName("head")[0];
        head.appendChild(script);
      }
    </script>

    <script src="./app.js"></script>
  </body>
</html>
